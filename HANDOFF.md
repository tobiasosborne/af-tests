# Handoff: 2026-01-31 (Session 74)

## Completed This Session

**Deep analysis of `primitive_peirce_one_scalar` proof strategy.**

No code changes, but significant research clarifying the proof path for H-O 2.9.4(ii).

### Key Finding: H-O 2.9.4(ii) Proof Structure

From H-O book (lines 2221-2233 in joa-m.md), the proof of "p minimal ↔ {pAp} = ℝp":

**Forward direction (p minimal → {pAp} = ℝp):**
1. Take any a ∈ {pAp} = PeirceSpace p 1
2. The algebra generated by a and p satisfies conditions of 2.9.3:
   - Abelian (commutative)
   - No nilpotents (from formal reality via 2.9.4(i))
   - Finite-dimensional → DCC on ideals
3. By Lemma 2.9.3: this algebra is direct sum of fields
4. Since p is the identity and p is minimal, there's only n=1 field
5. Finite-dim formally real field over ℝ is ℝ itself (2.2.6 - only ℝ and ℂ, and ℂ not formally real)
6. Hence this field = ℝp

**Key H-O result (2.5.5):** "U_p A is a subalgebra of A"
- From line 1460: "{pap}² = {p{ap²a}p}" shows U_p A closed under squaring
- p acts as identity on U_p A (from 2.62: T_p U_p = U_p)

### Mathlib Resources Identified

| Theorem | Use |
|---------|-----|
| `IsArtinianRing.equivPi` | R ≃+* ∏ (R/m) for comm Artinian reduced rings |
| `IsArtinianRing.isField_of_isReduced_of_isLocalRing` | Artinian + Reduced + Local → Field |
| `IsArtinianRing.isSemisimpleRing_of_isReduced` | Artinian + Reduced → Semisimple |

### Infrastructure Gaps Identified

To prove `primitive_peirce_one_scalar`, we need:

1. **PeirceSpace e 1 as CommRing** - need to define ring structure with:
   - Multiplication = jmul restricted to PeirceSpace e 1
   - One = e (acts as identity by definition of Peirce-1 space)

2. **Show it's reduced (no nilpotents)** - follows from FormallyRealJordan:
   - If a ∈ PeirceSpace e 1 with aⁿ = 0, then by 2.9.4(i) proof, a = 0

3. **Finite-dimensional → Artinian** - standard mathlib result

4. **Apply structure theorem** - mathlib has this

5. **Minimality argument** - needs showing idempotents in {eAe} lift to idempotents in J

---

## Current State

| Metric | Value |
|--------|-------|
| Total Sorries in Jordan/ | 26 |
| Build Status | PASSING |
| SpectralTheorem.lean | 6 sorries |
| Primitive.lean | 5 sorries |

### Key Blocking Issue: `primitive_peirce_one_scalar`

This theorem (H-O 2.9.4(ii)) blocks most spectral theory sorries.

**Proof now understood** but requires infrastructure to:
- Set up CommRing instance on PeirceSpace e 1
- Prove it's reduced
- Connect to mathlib's Artinian ring theory

---

## Next Steps (Priority Order)

### 1. Set up CommRing structure on PeirceSpace e 1

Create a new file or add to Peirce.lean:
- Define `PeirceOneAlgebra e` as CommRing
- Prove e is the identity
- Prove multiplication is associative (key: power associativity + single generator)

### 2. Prove PeirceOneAlgebra is reduced

Use FormallyRealJordan to show no nilpotents:
- If a ∈ PeirceSpace e 1 with aⁿ = 0
- By H-O 2.9.4(i) argument: if a^(m-1) ≠ 0, a^m = 0, let k = ceil(m/2)
- Then a^(2k) = 0, so a^k = 0 by formal reality (since (a^k)² = a^(2k) = 0)
- Contradiction with k < m

### 3. Connect to Artinian theory

- PeirceSpace e 1 is finite-dimensional submodule
- Finite-dim comm ℝ-algebra is Artinian
- Apply `IsArtinianRing.equivPi`

### 4. Alternative: Direct dimensional argument

If dim(PeirceSpace e 1) > 1:
- ∃ x linearly independent from e
- Algebra generated by x and e is multi-dimensional
- But it must be ℝ (by formal reality + structure theorem)
- Contradiction → dim = 1 → PeirceSpace e 1 = ℝe

---

## Issue Status

| Issue | Status | Notes |
|-------|--------|-------|
| af-4g40 | OPEN (P1) | spectral sorries - blocked by primitivity |
| af-lhxr | OPEN (P1) | orthogonal_primitive_peirce_sq - blocked |
| af-hbnj | OPEN (P1) | exists_primitive_decomp - blocked |
| af-5zpv | OPEN (P0) | JordanTrace needs instances |

---

## Files Modified This Session

- `HANDOFF.md` — This file (updated with detailed analysis)
