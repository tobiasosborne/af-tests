# Archimedean Closure Formalization

A complete Lean 4 formalization of the characterization of positivity in constrained *-algebra representations, with accompanying LaTeX documentation.

## Main Theorem

For the free *-algebra A₀ = ℂ⟨g₁,...,gₙ⟩ on n self-adjoint generators and quadratic module M generated by positivity constraints:

> **A ∈ M̄ ⟺ π(A) ≥ 0 for all constrained *-representations π**

where M̄ is the closure of M in the state seminorm topology.

## Project Status

| Component | Status | Lines |
|-----------|--------|-------|
| Lean Formalization | ✅ Complete | 4,943 |
| GNS Infrastructure | ✅ Complete | 2,455 |
| LaTeX Document | ✅ Complete | 75 pages |
| Sorries | **0** | — |

## Repository Structure

```
af-tests/
├── AfTests/                    # Lean 4 source code
│   ├── ArchimedeanClosure/     # Main theorem formalization (4,943 LOC)
│   │   ├── Algebra/            # FreeStarAlgebra, QuadraticModule, Archimedean
│   │   ├── State/              # MPositiveState, NonEmptiness
│   │   ├── Boundedness/        # Cauchy-Schwarz, ArchimedeanBound
│   │   ├── Topology/           # StateTopology, Compactness
│   │   ├── Seminorm/           # StateSeminorm, Closure
│   │   ├── Dual/               # Riesz extension, DualCharacterization
│   │   ├── GNS/                # GNS construction for free algebras
│   │   ├── Representation/     # ConstrainedStarRep, VectorState
│   │   └── Main/               # Main theorem
│   └── GNS/                    # Reusable GNS infrastructure (2,455 LOC)
│
├── latex/                      # LaTeX documentation (75 pages)
│   ├── main.tex                # Main document
│   ├── preamble.tex            # Package configuration
│   ├── chapters/               # 10 chapters
│   │   ├── 01-introduction.tex
│   │   ├── 02-algebra.tex
│   │   ├── 03-states.tex
│   │   ├── 04-boundedness.tex
│   │   ├── 05-topology.tex
│   │   ├── 06-seminorm.tex
│   │   ├── 07-dual.tex
│   │   ├── 08-gns.tex
│   │   ├── 09-representations.tex
│   │   └── 10-main-theorem.tex
│   └── appendix/               # Appendices
│       ├── nonemptiness.tex    # Proof that S_M ≠ ∅
│       └── lean-index.tex      # Complete Lean declaration index
│
├── docs/                       # Project documentation
│   ├── ArchimedeanClosure/     # Architecture, file plan, learnings
│   ├── GNS/                    # GNS construction docs
│   └── LaTeXGeneration/        # LaTeX generation plan
│
├── CLAUDE.md                   # Development instructions
├── HANDOFF.md                  # Session handoff state
└── AGENTS.md                   # Multi-agent coordination
```

## Key Concepts

1. **Free *-algebra** A₀ = ℂ⟨g₁,...,gₙ⟩ with self-adjoint generators (g_j* = g_j)

2. **Quadratic module** M = AddSubmonoid.closure({a*a} ∪ {b*g_j b})

3. **Archimedean property**: ∀a, ∃N, N·1 - a*a ∈ M

4. **M-positive state**: φ : A₀ → ℝ with φ(1)=1 and φ(m)≥0 for m∈M

5. **State seminorm**: ‖a‖_M = sup{|φ(a)| : φ ∈ S_M}

6. **Constrained *-representation**: π : A₀ → B(H) with π(g_j) ≥ 0

## Building

### Lean
```bash
lake build
```

### LaTeX
```bash
cd latex
pdflatex main.tex
pdflatex main.tex  # Run twice for references
```

The compiled PDF will be at `latex/main.pdf`.

## Proof Architecture

The proof proceeds in several stages:

1. **Algebraic Setup** (Phase 1): Define free *-algebra, quadratic module, Archimedean property

2. **States** (Phase 2): Define M-positive states, prove S_M ≠ ∅

3. **Boundedness** (Phase 3): Cauchy-Schwarz inequality, uniform bounds from Archimedean property

4. **Topology** (Phase 4): State space topology, compactness via Tychonoff

5. **Seminorm** (Phase 5): Define ‖·‖_M, prove seminorm properties

6. **Dual Characterization** (Phase 6): Apply Riesz extension to prove
   > A ∈ M̄ ⟺ ∀φ ∈ S_M, φ(A) ≥ 0

7. **Representations** (Phase 7): Constrained reps, vector states are M-positive

8. **Main Theorem** (Phase 8): Combine dual characterization with GNS construction

## Key Files

| File | Description |
|------|-------------|
| `AfTests/ArchimedeanClosure/Main/Theorem.lean` | Main theorem statement and proof |
| `AfTests/ArchimedeanClosure/Main/DualCharacterization.lean` | A ∈ M̄ ⟺ ∀φ, φ(A) ≥ 0 |
| `AfTests/ArchimedeanClosure/Dual/RieszApplication.lean` | Riesz extension application |
| `AfTests/ArchimedeanClosure/Topology/Compactness.lean` | S_M is compact |
| `AfTests/ArchimedeanClosure/Seminorm/StateSeminorm.lean` | Seminorm definition |
| `latex/main.pdf` | Compiled 75-page documentation |

## Mathlib Dependencies

Key imports from Mathlib4:
- `Mathlib.Algebra.FreeAlgebra`
- `Mathlib.Algebra.Star.Basic`
- `Mathlib.Analysis.Convex.Cone.Extension` (Riesz extension)
- `Mathlib.Topology.Compactness.Compact` (Tychonoff)
- `Mathlib.Analysis.InnerProductSpace.Basic`

## Axioms Used

The formalization uses only standard Lean/Mathlib axioms:
- Propositional extensionality
- Axiom of choice (for Riesz extension, Tychonoff)
- Quotient soundness

## License

MIT License

## Acknowledgments

- Lean 4 (version 4.x)
- Mathlib4
- Claude Code for development assistance
